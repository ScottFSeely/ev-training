<body>
    <div class="padded">
        <div class="box1">
            <div class="box">
                <input [formControl]="search" class="box" placeholder="Search an article..." type="text" />
                <button (click)="getArticle()">Go</button>
                <!-- The angular formControl uses .valueChanges and .value to grab values from the observable -->
            </div>
            <br />
            <div class="box shift">
                <button class="btn btn-pill btn-warning" (click)="browseToggle()">{{buttonText}}</button>
            </div>
            <br />
        </div>


        <div *ngIf="browse; else doSearch">
            <div *ngFor="let article of articles; let i=index">
                <br />
                <h3>{{ article.title }}</h3>
                <p>{{article.description}}</p>
                <a class="btn btn-secondary" href="{{article.url}}">Read full article</a>
            </div>
        </div>
        <ng-template #doSearch>
            <h2>Search Results: </h2>
            <div *ngFor="let article of articles; let i=index">
                <div *ngFor="let word of article.title.split(' ')">
                    <div *ngIf=" (word | lowercase) == (search.value | lowercase)">
                        <br />
                        <h3>{{ article.title }}</h3>
                        <p>{{article.description}}</p>
                        <a class="btn btn-secondary" href="{{article.url}}">Read full article</a>
                    </div>
                </div>
            </div>
        </ng-template>
    </div>
</body>